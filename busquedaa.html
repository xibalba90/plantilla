<!DOCTYPE html>
<html>
<head>
    <title>Recibo</title>
</head>
<body>
    <script>
         // Obtener los parámetros de la URL
        const params = new URLSearchParams(window.location.search);

        // Obtener los valores de los parámetros
        var DATO = params.has('DATO') ? params.get('DATO') : "---";
        var nombrE = params.has('COMBRE COMPLETE') ? params.get('COMBRE COMPLETE') : "==Cliente==";
        var FOLIO = params.has('FOLIO PROMAD') ? params.get('FOLIO PROMAD') : "==Cliente==";
        var FILIO  = params.has('FOLIO PROMAD (PERSONA  LOCALIZADA)') ? params.get('FOLIO PROMAD (PERSONA  LOCALIZADA)') : "==Cliente==";
        var fecha = params.has('FECHA DEL HECHO') ? params.get('FECHA DEL HECHO') : "dd/mm/aaaa hh:mm:ss";
        var fecha_entrega = params.has('FECHA DEL HECHO') ? params.get('FECHA DEL HECHO) : "hh:mm:ss";

        // Recibe los datos de los servicios (separados por comas)
        var cantidades = params.has('cantidades') ? params.get('cantidades') : "";
        var descripciones = params.has('servicios') ? params.get('servicios') : "";
        var detalle = params.has('detalles') ? params.get('detalles') : "";
        var p_units = params.has('p_unit') ? params.get('p_unit') : "";
        var subtotal = params.has('subtotal') ? params.get('subtotal') : "";

        // Crea listas a partir de las cadenas separadas por comas
        cantidades = cantidades.split(",");
        descripciones = descripciones.split(",");
        detalle = detalle.split(",");
        p_units = p_units.split(",");

        // Crea una lista para mostrar en cada fila de la tabla
        var result = [];
        cantidades.forEach(function(value, id) {
            result[id] = {
                cantidad: cantidades[id],
                descripcion: descripciones[id],
                detalle: detalle[id],
                subtotal: subtotal[id],
                precio_unit: parseFloat(p_units[id]).toFixed(2),
            };
        });

        // Aquí puedes generar el HTML de la tabla o cualquier otro elemento para mostrar en la página
    </script>



    <div class="ticket">
            <b>NOMBRE:<br>
            <h1 class="nombrE" id="nombrE" ></h1>
         </div>
        <div class="fecharecep">
            <p class="FOLIO">
                
                <b>FECHA RECEPCION:<br>
                <b id="FOLIO"></b>
            <br>
            <b>CLIENTE:<br>
            <b id="nombre_client"></b>
          
        </div>

        <div class="label">
            <p class="fecha_entrega">
                <b> FECHA ENTREGA: <br>
                    <span id="fecha_entrega"></span>
                </b>
            </p>
        </div>







             <script>
   function pprintTicket() {
      // Simula hacer clic en el botón de impresión
     document.getElementById("printButton").click();
    }

    // Función que se ejecuta después de la impresión
    window.onafterprint = function() {
      // Cerrar la ventana después de imprimir
      window.close();
    };


  </script>
                
</body>

   
</html>
